# 부모 values.yaml — 서브차트에 전달할 값
# 나중에 멀티모듈 추가 시 여기에 추가

api:
  enabled: true
  image:
    repository: ""      # .env에서 주입 (DOCKER_IMAGE)
    tag: "latest"
    pullPolicy: IfNotPresent
  replicas: 1
  service:
    type: NodePort
    port: 8080
    nodePort: 30080
  env:
    springProfile: "prod"
    # 아래 값들은 helm install 시 --set 또는 secret으로 주입
    dbHost: "modeunsa-infra-mysql"
    dbPort: "3306"
    dbName: ""          # .env에서 주입
    redisHost: "modeunsa-infra-redis"
    redisPort: "6379"
    esHost: "modeunsa-infra-elasticsearch"
    esPort: "9200"
  secrets:
    # .env에서 주입되는 민감한 값들
    dbUsername: "root"
    dbPassword: ""
    redisPassword: ""
    jwtSecret: ""
    kakaoClientId: ""
    kakaoClientSecret: ""
    naverClientId: ""
    naverClientSecret: ""
    awsAccessKey: ""
    awsSecretKey: ""
    encryptionMasterKey: ""
    tossPaymentsSecretKey: ""
  resources:
    requests:
      cpu: 250m
      memory: 512Mi
    limits:
      cpu: "1"
      memory: 1Gi
