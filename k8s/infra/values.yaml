# 공통 기본 설정 (환경 공통)
# 환경별 리소스/서비스 설정은 values-local.yaml 또는 values-prod.yaml 참조
#
# 사용법:
#   helm upgrade --install ... -f values.yaml -f values-local.yaml   (로컬)
#   helm upgrade --install ... -f values.yaml -f values-prod.yaml    (프로덕션)

mysql:
  enabled: true
  image:
    tag: "8.0"
  auth:
    rootPassword: ""    # .env에서 주입
    database: ""        # .env에서 주입

redis:
  enabled: true
  image:
    tag: "7-alpine"
  auth:
    password: ""        # .env에서 주입

elasticsearch:
  enabled: true
  image:
    tag: "9.2.2"
  javaOpts: "-Xms1g -Xmx1g"
  plugins: "analysis-nori"

prometheus:
  enabled: true
  image:
    tag: "latest"
  scrapeInterval: "15s"
  scrapeConfigs:
    - jobName: "modeunsa-app"
      metricsPath: "/actuator/prometheus"
      scrapeInterval: "15s"
      scrapeTimeout: "10s"
      targets:
        - "modeunsa-app:8080"

grafana:
  enabled: true
  image:
    tag: "latest"
  auth:
    adminUser: ""       # .env에서 주입
    adminPassword: ""   # .env에서 주입
  server:
    serveFromSubPath: true

traefik:
  enabled: false
